#macro ( tagIcon $tagName ) 

<span class="$html.tagIconClass($tagName)">&nbsp;</span>

#end



#macro ( miniTagIcon $tagName ) 

<span class="$html.miniTagIconClass($tagName)">&nbsp;</span>

#end



#macro( singleTagInput $tagInput $addButton )

<script type="text/javascript">
//<![CDATA[
  jQuery(function() {
    new TagPalette(
      jQuery("#${tagInput.id}-tag-palette"), 
      function(source, tagId, tagName, palette) {
        var input = jQuery("#${tagInput.id}");
        input.val(tagName);
        palette.close();
        input.focus();
      },
      jQuery("#${tagInput.id}-pulldown"));
  });
//]]>
</script>
<table class="tag-input-table" border="0" cellpadding="0" cellspacing="0">
<tr>
  <td class="tag-input" nowrap="nowrap">
    $utils.raw($tagInput)<button type="button" class="pulldown" id="${tagInput.id}-pulldown">
      <span class="label">&nbsp;</span></button>
    <br/>
    <div class="pulldown-box tag-palette" id="${tagInput.id}-tag-palette"></div>
  </td>
  <td style="padding-left: 5px;">$utils.raw($addButton) </td>
</tr>
</table>

#end



#macro( superTagForm $superTagForm $superTags $showInput )

$utils.raw($superTagForm.startTag())

## tag input
#if ($showInput)
<div class="tag-input">
<table class="fields" border="0" cellpadding="0" cellspacing="0"
  style="margin-top:5px;margin-bottom:5px;">
#formErrorsRow($superTagForm)
<tr><td>
  #singleTagInput($superTagForm.fields.tag $superTagForm.fields.addTag)
</td></tr>
</table>
</div>
#end

## tag tree
#if ($superTags.rootNode.hasChildren())
 $utils.raw($superTags)
#end

$utils.raw($superTagForm.endTag())

#end

